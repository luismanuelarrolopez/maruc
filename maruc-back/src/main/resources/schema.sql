drop table if exists actividad CASCADE; 
drop table if exists asesoria CASCADE; 
drop table if exists consecuencia CASCADE; 
drop table if exists opcion_consecuencia CASCADE; 
drop table if exists riesgo CASCADE;
drop table if exists rol CASCADE;
drop table if exists tipo_afectacion CASCADE; 
drop table if exists tipo_campo CASCADE ;
drop table if exists tipo_riesgo CASCADE ;
create table actividad (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, version integer not null, frecuencia_invertidad boolean not null, nombre varchar(255), primary key (id));
create table asesoria (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, version integer not null, dependencia varchar(255), fecha_agendada time, fecha_solicitada time, primary key (id));
create table consecuencia (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, version integer not null, descripcion varchar(255), tipo_afectacion_id bigint, tipo_campo_id bigint, primary key (id));
create table opcion_consecuencia (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, version integer not null, descripcion varchar(255), puntaje integer, seleccionada boolean not null, consecuencia_id bigint, primary key (id));
create table riesgo (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, version integer not null, descripcion varchar(255), nombre varchar(255), objetivo varchar(255), relacion_con_objetivo boolean not null, primary key (id));
create table rol (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, version integer not null, descripcion varchar(255), nombre varchar(255), primary key (id));
create table tipo_afectacion (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, codigo varchar(255), descripcion varchar(255), primary key (id));
create table tipo_campo (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, codigo varchar(255), descripcion varchar(255), primary key (id));
create table tipo_riesgo (id bigint generated by default as identity, fecha_actualizacion timestamp, fecha_creacion timestamp, codigo varchar(255), descripcion varchar(255), primary key (id));
alter table consecuencia add constraint FK7sffifuony0xbg28hfrbp3e5y foreign key (tipo_afectacion_id) references tipo_afectacion;
alter table consecuencia add constraint FKaqn9vgblvrbbgf6ycy7y949gc foreign key (tipo_campo_id) references tipo_campo;
alter table opcion_consecuencia add constraint FK6i3cpogn2q8vtwc03xthpnfa2 foreign key (consecuencia_id) references consecuencia;

insert into tipo_afectacion (codigo, descripcion) values ('TEST', 'Prueba realizada');
